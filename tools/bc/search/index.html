<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Search Bookmarklet | DPPL</title>
	<style>
		article, header, footer, figure{display: block;}
		html{background-color: #eee;}
		body{width: 80%; margin: 3% auto; background-color: #fff; padding: 4%; font-size: 100%; font-family: sans-serif; overflow-y: scroll;}
		h1{margin-top: 0;}
		h3{font-size: 100%;}
		hr{clear: both; margin-top: 2em; margin-bottom: 2em; border-bottom: 0; border-top: 1px solid #ddd;}
		ol li{margin-bottom: 1em;}
		p{line-height: 1.5em;}
		figure{margin: 2em 0 1em 0; padding: 2%; background-color: #eee;}
		figcaption{margin-bottom: 1em; color: #888; font-weight: bold; font-size: 90%; border-bottom: 1px solid #ccc;}
		figure.image{width: 50%; margin: 0 0 1em 1em;}
		.right{float: right;}
		figure.image img{width: 97%;}
		.error{color: red;}
		#code{display: none;}
		.button{display: inline-block; height: auto; width: auto; line-height: 1em; padding: 8px 10px; background-color: #c8c8c8; border: 0; font-size: 90%; text-decoration: none; color: #333; border-radius: 5px; cursor: pointer;}
		.button:hover{background-color: #eee;}
		.right{float: right; margin: 0 0 .5em .5em;}
		.image{background-color: #eee; padding: .5em;}
		.image .caption{display: block; width: 100%; margin-top: 4px; font-size: 70%; color: #888; text-align: center;}
		.image img{border: 5px solid #fff;}
	</style>
</head>
<body>
	<header>
		<h1>Search Bookmarklet</h1>
	</header>
	<article>
		<section>
			<figure class="image right">
				<img src="img/calendar-example.png" />
			</figure>
			<p>Ever wanted to search the catalog for a book you&apos;re reading about on a another page or site? <em>Then use this bookmarklet!</em></p>
			<h2>How?</h2>
			<ol>
				<li>Click and drag the button below labelled "Search BC" up to your browser's toolbar.</li>
				<li>Select a book title, author, etc. on a page, then click the bookmark.</li>
				<li>Celebrate your new found efficiency!</li>
			</ol>
			<p><a class="button" href="javascript:(function()%7Bvar s=window.getSelection();var q=s.toString();if(q.length==0)%7Bq = prompt('Search BC for:');%7Dvar url='http://dppl.bibliocommons.com/search?t=smart&search_category=keyword&q=' + encodeURI(q.trim()) + '&commit=Search';window.open(url, '_blank');%7D)();">Search BC</a></p>
		</section>
		<hr />
		<section>
			<h2>What&apos;s it doing?</h2>
			<p>Anything you highlight on the screen will be passed along to Bibliocommons as search paremeters. If you don't have anything highlighted, you will be prompted with a basic box to enter a search term. Simple!</p>
			<h3>The Code</h3>
			<p>If you are interested, this is the code for the bookmarklet:</p>
			<figure>
				<figcaption>JavaScript</figcaption>
				<code>
				(function(){<br />
				&nbsp;&nbsp;&nbsp;&nbsp;var s=window.getSelection();<br />
				&nbsp;&nbsp;&nbsp;&nbsp;var q=s.toString();<br />
				&nbsp;&nbsp;&nbsp;&nbsp;if(q.length==0){<br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q = prompt('Search BC for:');<br />
				&nbsp;&nbsp;&nbsp;&nbsp;}<br />
				&nbsp;&nbsp;&nbsp;&nbsp;var url='http://dppl.bibliocommons.com/search?t=smart&search_category=keyword&q=' + encodeURI(q.trim()) + '&commit=Search';<br />
				&nbsp;&nbsp;&nbsp;&nbsp;window.open(url, '_blank');<br />
				})();<br />
				</code>
			</figure>
		</section>
	</article>
</body>
</html>
