<!DOCTYPE html>
<html>
<head>
	<style>
		html{background-color: #eee;}
		body{width: 80%; margin: 3% auto; background-color: #fff; padding: 4%; font-size: 100%; font-family: sans-serif; overflow-y: scroll;}
		h1{margin-top: 0;}
		label{display: block; margin-bottom: .5em;}
		input {display: block; font-size: 90%; line-height: 1em; margin-bottom: 1em; }
		fieldset{border: 0; margin-bottom: 1.5em; padding: 0;}
		.button{display: inline-block; height: auto; width: auto; line-height: 1em; padding: 8px 10px; background-color: #c8c8c8; border: 0; font-size: 90%; text-decoration: none; color: #333; border-radius: 5px; cursor: pointer;}
		.button:hover{background-color: #eee;}
		.right{float: right; margin: 0 0 .5em .5em;}
		.result{width: 96%; margin-top: 2em; padding: 2%; background-color: #eee;}
	</style>
</head>
<body>
	<h1>Test Link</h1>
	<form id="make-link">
		<div>
			<label for="link-text">Paste a link here:</label>
			<input type="text" id="link-text" name="link-text" style="width: 100%;" />
		</div>
		<input type="submit" class="button" value="Make Link" />
	</form>
	<div class="result"></div>
	<script>
		window.onload = function(){
			var form = document.getElementById('make-link');
			
			form.onsubmit = function(){
				//console.log(form.elements['link_text'].value);
				var result = document.getElementsByClassName('result')[0];
				var l = 'http://ezproxy.dppl.org/login?url=' + form.elements['link-text'].value;
				
				//console.log(l);
				
				var a = document.createElement('a');
				a.href = l;
				a.innerHTML = l;
				a.target = '_blank';
				
				result.innerHTML = '';
				result.appendChild(a);
				
				return false;
			}
		}
	</script>
</body>
</html>